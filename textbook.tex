\documentclass[10pt,a4paper]{book}
\usepackage[utf8]{inputenc}
\usepackage{FiraMono}
\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage{xeCJK}
%\usepackage{CJKutf8}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
%\usepackage[cache=false]{minted}
\usepackage{tcolorbox}
\tcbuselibrary{minted}
\usepackage{chessboard}
\usepackage{hyperref}

%\usemintedstyle{colorful}

%\definecolor{bg}{HTML}{282828} % from https://github.com/kevinsawicki/monokai
%\definecolor{bg}{HTML}{BBBBBB} % from https://github.com/kevinsawicki/monokai
%\setminted{bgcolor=bg,breaklines=true}
%\setminted{breaklines=true,linenos=true,frame=single}
\begin{document}

\title{Data Structures}
\author{Andrew Rosen}
\date{}
\maketitle
\tableofcontents

%defs

\newtcblisting[auto counter,number within=chapter]{pycode}[2][]{%
	colback=black!5!white,
	colframe=blue!75!black,fonttitle=\bfseries,
	listing only,
	listing engine= minted,
	minted language=Python3,
	minted style=colorful,
	minted options={tabsize=4},
	title= Listing (Python) \thetcbcounter: #2,#1
}

\newtcblisting[use counter from=pycode]{javacode}[2][]{%
	colback=red!5!white,colframe=red!75!blue,fonttitle=\bfseries,
	listing only,
	listing engine= minted,
	minted language=Java,
	minted style=manni,
	minted options={tabsize=4,breaklines=true},
	title= Listing (Java) \thetcbcounter: #2,#1
}

%\newtcblisting[use counter from=pycode]{pyfile}[2][]{%
%	colback=black!5!white,
%	colframe=blue!75!black,fonttitle=\bfseries,
%	listing only,
%	listing engine= minted,
%    listing file=#2,
%	minted language=Python3,
%	minted style=colorful,
%	minted options={tabsize=4},
%	title= Listing (Python) \thetcbcounter: #2,#1
%}

\newtcblisting[use counter from=pycode]{pyfile}[2][]{%
	colback=black!5!white,
	colframe=blue!75!black,
	fonttitle=\bfseries,
	listing only,
	listing engine=minted,
	listing file=#2, % Correct key for specifying the file with minted
	minted language=Python3,
	minted style=colorful,
	minted options={tabsize=4},
	title=Listing (Python) \thetcbcounter: \ifx\\#1\\#2\else#1\fi % Use #1 as custom title or fallback to filename (#2)
}


%The Document 
\part{Preliminaries}
\include{intro}
% license  and ack https://runestone.academy/ns/books/published/pythonds3/index.html?mode=browsing after adapting text.
\include{functions}
\include{arrays}
\include{analysis}

\part{Lists}
\label{part-list}
\include{arraylists}
\include{linkedlists}
\include{stacks}
\include{queues}

\part{Recursion}
\include{recursion}
\include{trees}
\include{heaps}
\include{sorting}

\part{Hashing}
\include{sets}
\include{maps}
\include{hash}
\include{mapreduce}


\part{Relationships}
\include{graphs}
\include{graph algorithms}



%\part{Beyond}


%\chapter{A Nontechnical Introduction to NP-Completeness}

%\section{The Traveling Salesperson Problem (TSP)}
%\section{The Longest Path Problem}
%\section{The Rudrata/Hamiltonian Path Problem}
%\section{Everything is SAT and 3SAT}

%\chapter{Other Data Structures}


%\section{Skip Lists}


%\chapter{Distributed Hash Tables}
\bibliographystyle{acm}
\bibliography{python}

\end{document}